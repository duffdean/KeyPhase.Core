@{
    Layout = "~/Views/Shared/_KP.cshtml";
}
<link href="~/css/kp.css" rel="stylesheet" />
<div class="container-fluid kp">
    <div class="row">
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <img class="kp-logo" src="~/images/Untitled-3.png" />
                <a asp-area="" class="navbar-brand">KeyPhase</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a data-bind="click: updateUI">Dashboard</a></li>
                    <li><a data-bind="click: updateUI">Projects</a></li>
                    <li><a data-bind="click: updateUI">Workload</a></li>
                    <li><a data-bind="click: updateUI">Reports</a></li>
                    <li><a data-bind="click: updateUI">Stream</a></li>
                </ul>
                <div class="hidden-xs kp-profile">
                    <div class="kp-profile-icon">DD</div>
                    <div class="kp-profile-name">Dean</div>
                </div>
            </div>
        </nav>
    </div>


    <div data-bind="fadeVisible: contentLoading" class="contentLoader">
        <div class="contentLoader-container">
            <div class="contentLoader-container-fixed">
                <div class="contentLoader-container-spinner">
                    <div class="loader contentloader-spinner"></div><img class="contentLoader-logo" src="/images/Untitled-3.png">
                </div>
            </div>
        </div>
    </div>


    <!--ko if: currentPage() == 'projects'-->
    <!--ko ifnot: contentLoading-->
    <div class="row contentArea ca ca-dash">
        @*dash-sidebar*@
        <div class="col-xs-2 nopadding projSidebar">
            <span class="lnr lnr-chevron-left projSidebar-chevron" data-bind="click: dashSideSlide"></span>
            <div class="proj-sidebar-content dashSidebarContent">
                <div class="row MTop15">
                    <div class="col-xs-12">
                        <span class="lnr lnr-funnel projSidebar-filterIcon"></span>
                        <input type="text" name="projFilter" placeholder="Filter" class="project-filter">
                    </div>
                </div>
                <div class="row MTop15">
                    <div class="col-xs-11 nopadding projSiderbar-header">
                        <span class="projSiderbar-headerTitle">Projects</span>
                        <div class="lnr lnr-plus-circle projectSidebar-headerAdd">
                            <div class="projectSidebar-headerAdd-content">
                                <p style="padding: 10px 0px 0px 25px;">Project</p>
                                <p style="padding: 10px 0px 0px 25px;">Phase</p>
                                <p style="padding: 10px 0px 0px 25px;">Task</p>
                            </div>
                        </div>
                    </div>
                    <!-- ko foreach: { data: userProjects(), as: 'userProjects' } -->
                    <div class="col-xs-11 nopadding project-title">
                        <span class="projSidebar-itemName" data-bind="text: userProjects.Name, click: $root.loadProjectData"></span>
                        <span class="lnr lnr-star-empty project-fav"></span>
                    </div>
                    <!-- /ko -->
                </div>
            </div>
        </div>
        <div class="col-xs-2 ca ca-dash-spacer"></div>
        <div class="dragscroll col-xs-10 ca ca-dash-content" style="
    top: 0px;
    height: 100%;
    border-right: #3a4258;
    border-right-width: 1px;
    border-right-style: solid;
    overflow: auto;">
            <div class="row" style="
    height: 51px;
">cvbnvn</div>

            <!--ko with: projectOverview()-->
            @*<div class="proj-overview" style="    margin-left: 5px;">*@
            <div class="proj-overview" style="display: flex;
                flex-direction: column;
                flex-wrap: wrap;
                height: 100px;">

                <!-- ko foreach: { data: $data.ProjectPhases, as: 'p' } -->
                <div class="tester projPhase">
                    <span style="cursor: pointer;" data-bind="text: p.Name">
                    </span>
                    @*<span data-bind="text: '(' + p.Projects().length + ')'">
                </span>*@
                    <!-- ko foreach: { data: p.Projects, as: 'projects' } -->
                    <div class="tasktest projPhase-item" data-bind="text: projects.Name"></div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->
           
            <!--ko with: currentProject()-->
            <div class="row proj-detailed">
                <!--ko ifnot: $data.PhaseTasks().length -->
                <div class="col-xs-4" style="margin-left: 25%" data-bind="click: $root.createDefault">
                    <div style="
    height: 75vh;
    position: absolute;
">
                        <i class="material-icons" style="font-size: 158px;top: 89px;left: 8px;z-index: 2;color: #1e8ab7;position: absolute;">desktop_windows</i>

                        <i class="material-icons" style="font-size: 170px;color: #1bb9e1;position: absolute;top: 75px;left: -1px;z-index: 1;">view_quilt</i>
                        <i class="material-icons" style="position: absolute;top: 114px;left: 49px;font-size: 75px;z-index: 3;">grade</i>

                    </div>
                    
                <span style="
    position: absolute;
    top: 250px;
    font-size: 18px;
    font-weight: bold;
    left: 35px;
">Default Layout</span></div>
                <div class="col-xs-4" data-bind="click: $root.createCustom">
                    <div style="
    height: 75vh;
    position: absolute;
">
                        <i class="material-icons" style="font-size: 158px;top: 89px;left: 8px;z-index: 2;color: #1e8ab7;position: absolute;">desktop_windows</i>

                        <i class="material-icons" style="font-size: 170px;color: #1bb9e1;position: absolute;top: 75px;left: -1px;z-index: 1;">view_quilt</i>
                        <i class="material-icons" style="position: absolute;top: 114px;left: 49px;font-size: 75px;z-index: 3;">build</i>

                    </div>

                    <span style="
    position: absolute;
    top: 250px;
    font-size: 18px;
    font-weight: bold;
    left: 35px;
">Custom Layout</span>
                </div>
                <!-- /ko -->
                <!-- ko foreach: { data: $data.PhaseTasks, as: 's' } -->
                <div class="tester projPhase">
                    <div style="cursor: pointer;" data-bind="text: s.Name">
                    </div>
                    <!-- ko foreach: { data: s.Tasks, as: 'tasks' } -->
                    <div class="tasktest projPhase-item" data-bind="text: tasks.Name, click: $root.taskPopup"></div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->
        </div>
    </div>
    <!--/ko-->
    <!--/ko-->
    <!--ko if: currentPage() == 'dashboard' -->
    <div class="row contentArea ca ca-dash" style="    background-color: #1b1e23;
    height: 100%;">
        @*dash-sidebar*@
        <div class="col-xs-2 ca ca-dash-spacer"></div>
        <div class="col-xs-10 ca ca-dash-content" style="
    top: 0px;
    height: 100%;
    border-right: #3a4258;
    border-right-width: 1px;
    border-right-style: solid;
    overflow: auto;">
            <div class="row" style="
    height: 52px;
">cvbnvn</div>

            <div class="row">

            </div>
        </div>

    </div>
    <!--/ko-->
</div>

<div class="bg-overlay" data-bind="click: $root.closePopup">
</div>

<!--ko with: currentTask-->
<div class="col-xs-8 popup-task" style="
    position: absolute;
    top: 10%;
    left: 20%;
    height: 80%;
    background: rgb(58, 66, 88);
    z-index: 1051;
        border-radius: 5px
">
    <div style="
    position: relative;
    float: right;
    top: -7px;
    right: -23px;
    width: 20px;
    height: 21px;
    background: #3a4258;
    /* box-shadow: -3px 3px 8px #636363; */
    border-radius: 5px;
    border-color: white;
    border-style: solid;
    border-width: 1px;
    padding-left: 5px;
" data-bind="click: $root.closePopup">X</div>
    <div class="row" style="    background: #3a4258;
    margin: 10px 10px 10px 10px;
    border-radius: 5px;
    height: 30px;">
        <input class="col-xs-8 popup-task-title" type="text" name="taskChat" data-bind="value: $data.Task.Name" />
        @*<div class="col-xs-2" data-bind="text: $data.Task.Name"></div>*@
        <div class="col-xs-3">OTHER STUFF HERE</div>
    </div>
    <span class="popup-task-split"></span>
    <div class="row" style="    background: #3a4258;
    margin: 10px 10px 10px 10px;border-radius: 5px; height:60px">
        <span data-bind="text: $data.Task.Name"></span>
        <span data-bind="text: $data.Task.Cost"></span>
        <span data-bind="text: $data.Task.Complete"></span>
        <span data-bind="text: $data.Task.ActEndDate"></span>
    </div>
    <span class="popup-task-split"></span>
    <div class="row popup-task-history" style="    background: #3a4258;
    margin: 10px 10px 10px 10px;border-radius: 5px; overflow-y: auto;     height: 350px;">
        <!-- ko foreach: { data: $data.TaskHistory, as: 'history' } -->
        <div class="tasktest projPhase-item" data-bind="text: history.User.FirstName"></div>
        <div class="tasktest projPhase-item" data-bind="text: history.Value"></div>
        <!-- /ko -->
    </div>
    <span class="popup-task-split"></span>
    <div class="row" style="    background: #3a4258;
    margin: 10px 10px 10px 10px;border-radius: 5px; height: 40px;">
        <span class="col-xs-1 lnr lnr-paperclip" style="font-size: 28px;
    line-height: 38px;"></span>
        <input class="col-xs-10 popup-task-chat" type="text" name="taskChat" placeholder="Add Comment" />
        <span class="col-xs-1" style="height: 30px;
    line-height: 30px;
    border-radius: 2px;
    background-color: #2f5aa5;
    font-size: 14px;
    /* font-weight: 600; */
    /* letter-spacing: .5px; */
    color: #fff;
    /* padding: 0 16px; */
    /* display: block; */
    cursor: pointer;
    /* opacity: 1; */
    /* box-sizing: border-box; */
    /* white-space: nowrap; */
    text-align: center;
    margin: 5px 0px 0px 5px;" data-bind="click: $root.postComment">Send</span>
    </div>

</div>
<!--/ko-->

<div id="kploader" class="kp-loader">

    <div class="kp-loader-container">
        <div class="loader kp-loader-spinner"></div><img class="kp-loader-logo" src="/images/Untitled-3.png">
    </div>
</div>
